<html>
<head>
  <meta name="google-site-verification" content="Kctkb4ovFntAcicPwO1FTDxPOlN79_Em3kNMFpzYzRY" />
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" type="text/css" href="style.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="scripts/boscApis.js"></script>
  <script src="scripts/app.js"></script>

  <script type="text/javascript">
      // Attach events to DOM elements when the page loads
      $(window).on("load", function () {

          // We need to use an <input> box to show the file chooser, but <input> boxes are ugly, especially in IE
          // Instead of showing in <input> box, lets show a button. When the button is clicked simulate a
          // click on the <input> box so the user can choose model files.
          $("#selectModelsToLoad").click(function () {
              // Simulate a click on the hidden <input> box so the file chooser opens
              $("#modelChooser").click();
          });

          // When the user selects models display them and show the open in VR button
          $("#modelChooser").change(function () {
              // Clear the list of files that were previously shown
              $(".chosenFiles").empty();
              $(".welcome").fadeOut(500);
              $("#updateModelForm").delay(500).fadeIn(500)

              // Show the files that were chosen
              var models = "";
              var files = $("#modelChooser")[0].files;
              for(var fileIndex = 0; fileIndex < files.length; fileIndex++) {
                  $(".chosenFiles").append("<small>" + files[fileIndex].name + ", " + "</small>");
              }

              // Show the upload models button
              // $("#uploadModels").show();
          });

          // Upload the models to the bosc APIs
          $("#uploadModelForm").submit(function (event) {
              //disable the default form submission
              event.preventDefault();

              $("#uploadModelForm").fadeOut(500);
              $(".modelInfo").delay(500).fadeIn(500);

              //grab all form data
              var formData = new FormData($(this)[0]);

              var success = function (model) {
                  // The server returns the metadata about this model that
                  // was saved in the database. Save it on the update form
                  // so we can use it later
                  $("#updateModelForm").data("model", model);
              }

              var error = function (response, ajaxOptions, thrownError) {
                  alert("error");
                  console.log("status: " + response.status);
              }

              var complete = function () {
                  $(".loading").hide();
              }

              var boscApis = new BoscApis(BoscApis.testAuthId);
              boscApis.mock();
              boscApis.postModel(formData, success, error, complete);

              return false;
          });
      });


  </script>


</head>

<body>
  <div id="logo"><img src="bosc_logo.png" alt=""></div>
  <div class="shell">
    <!-- Grey-header -->
<!--     <div class="header">
      <img src="logo.png" alt="">
    </div> -->
    <!-- Everything with white background -->
    <div class="content">
      <div class="full-width">
        <div class="primary-btn" id="selectModelsToLoad">Import model files</div>
        <input type='file' class="primary-btn" name="modelFile" id="modelChooser" style="display:none" multiple>
      </div>
      <div class="lower-container">
        <div class="half-width">
          <div class="title-text grn">
            <!-- <svg height="20" viewBox="0 0 24 20" width="24" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg> -->
            Models
          </div>
          <div>
            <form style="position:relative">
              <input type="search" placeholder="Search recently opened files">
              <svg class="search-icon" height="20" viewBox="0 0 24 24" width="20" xmlns="http://www.w3.org/2000/svg">
                <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                <path d="M0 0h24v24H0z" fill="none"/>
              </svg>
            </form>
          </div>

          <!-- Recent Files list -->
          <div class="files-list">
            <!-- List item populated by Bosc Server API results-->
          </div>
          <!-- <div class="secondary-btn showMore">Show More</div> -->

        </div>

        <!-- Second column -->
        <div class="half-width">
          <div class="welcome">
          <div class="resources">
            <div class="secondary">Upload a new model or select one from the left to view it's details.</div>
            <img src="pearheart.png" alt="">

           <!-- <a href="">How to: Generate 3d model from CT/MR Images <img src="arrow.svg" alt=""></a>
           <a href="">Contact our product team <img src="arrow.svg" alt=""></a>
           <a href="">PearMedical.com <img src="arrow.svg" alt=""></a> -->
         </div>
         </div>

         <form id="updateModelForm">
            <div class="title-text org">
              Edit Model Information
            </div>
             <!-- <input class="updateModelName" type="text" name="name" value="" placeholder="1. Enter title"><br>
             <input type="text" name="shortDesc" value="" placeholder="Short Desceiption"><br>
             <input type="text" name="longDesc" value="" placeholder="Long Desceiption"><br>
             <br>
             <input type="submit" value="Save" /> -->
             <label for="chosenFiles">Files</label>
             <div class="chosenFiles"></div>
             <label for="name">Name</label>
             <div class="divForm" contenteditable="true" name="name"></div>
             <label for="shortDesc">Short description</label>
             <div class="divForm" contenteditable="true" name="shortDesc"></div>
             <label for="name">Long description</label>
             <div class="divForm long" contenteditable="true" name="longDesc"></div>
             <input type="submit" value="Save" />
         </form>
         <div class="modelInfo">
            <div class="description editable">
              Lorem ipsum dolor sit amet, malesuada vel sit mauris sit erat, magna fermentum a congue suscipit rutrum, vivamus eu feugiat sit, suspendisse cras vestibulum dictumst potenti, phasellus ultrices enim.
            </div>
         </div>
       </div>
     </div>

   </div>
 </div>
</body>

<script src="scripts/primary.js"></script>

</html>
